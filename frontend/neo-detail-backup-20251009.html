<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title id="pageTitle">Neo Story - NeoSharX</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#067ff9",
              // CHANGE: Refined background colors for better contrast
              "background-light": "#ffffff",
              "background-dark": "#0A0A0A",
              "content-light": "#111827",
              "content-dark": "#F3F4F6",
              "subtle-light": "#6B7280",
              "subtle-dark": "#9CA3AF",
              "border-light": "#E5E7EB",
              "border-dark": "#374151",
            },
            fontFamily: {
              display: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      .loading {
        display: inline-block;
        width: 40px;
        height: 40px;
        border: 4px solid rgba(6, 127, 249, 0.3);
        border-radius: 50%;
        border-top-color: #067ff9;
        animation: spin 1s ease-in-out infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      /* CHANGE: Added prose styling for better article formatting */
      .prose {
        color: #111827; /* content-light */
      }
      .dark .prose {
        color: #f3f4f6; /* content-dark */
      }
      .prose h2 {
        font-size: 1.875rem;
        font-weight: 700;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
      }
      .prose p {
        margin-bottom: 1.5rem;
        line-height: 1.75;
        font-size: 1.125rem; /* Slightly larger for readability */
      }
      .prose img {
        border-radius: 0.75rem; /* xl */
        margin: 2.5rem auto;
      }
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
  </head>
  <body
    class="bg-background-light dark:bg-background-dark font-display text-content-light dark:text-content-dark"
    data-page="neo-detail"
  >
    <div class="relative flex flex-col min-h-screen w-full">
      <header
        class="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark"
      >
        <div
          class="container mx-auto flex items-center justify-between px-6 py-4"
        >
          <div class="flex items-center">
            <a href="index.html">
              <img
                src="logo27.png"
                alt="NeoSharX Logo"
                class="h-6 object-contain"
              />
            </a>
          </div>
          <div id="nav-placeholder"></div>
          <div class="flex items-center gap-4">
            <button class="lg:hidden text-content-light dark:text-content-dark">
              <span class="material-symbols-outlined">menu</span>
            </button>
          </div>
        </div>
      </header>

      <main class="flex-grow">
        <div id="loadingState" class="container mx-auto px-4 py-20 text-center">
          ...
        </div>
        <div
          id="errorState"
          class="container mx-auto px-4 py-20 text-center hidden"
        >
          ...
        </div>

        <article id="storyContent" class="hidden">
          <div class="container mx-auto px-6 py-12 md:py-16">
            <div class="max-w-3xl mx-auto text-center">
              <div class="mb-4">
                <span
                  id="categoryBadge"
                  class="bg-primary/10 text-primary dark:bg-primary/20 text-xs font-bold px-3 py-1 rounded-full uppercase"
                ></span>
              </div>
              <h1
                id="storyHeader"
                class="text-4xl md:text-5xl font-extrabold tracking-tight mb-6"
              ></h1>
              <p
                id="introduction"
                class="text-lg md:text-xl text-subtle-light dark:text-subtle-dark mb-8"
              ></p>

              <div class="flex items-center justify-center gap-4 text-sm">
                <img
                  id="authorImage"
                  class="h-10 w-10 rounded-full"
                  src=""
                  alt="Author"
                />
                <div>
                  <span
                    id="authorName"
                    class="font-semibold text-content-light dark:text-content-dark"
                  ></span>
                  <div class="text-subtle-light dark:text-subtle-dark">
                    <span id="publishedDate"></span>
                    <span class="mx-1">•</span>
                    <span id="readTime"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div
            id="heroSection"
            class="w-full h-96 md:h-[500px] bg-cover bg-center rounded-2xl container mx-auto px-6 mb-12"
          ></div>

          <div class="container mx-auto px-6">
            <div
              id="storySections"
              class="max-w-3xl mx-auto prose dark:prose-invert"
            ></div>
          </div>

          <div class="container mx-auto px-6 pb-12">
            <div class="max-w-3xl mx-auto">
              <div
                id="tags"
                class="flex flex-wrap gap-2 pt-8 border-t border-border-light dark:border-border-dark"
              ></div>

              <div
                id="authorBio"
                class="my-16 p-6 rounded-xl border border-border-light dark:border-border-dark flex items-start gap-6"
              >
                <img
                  id="authorBioImage"
                  class="h-16 w-16 rounded-full"
                  src=""
                  alt="Author"
                />
                <div>
                  <p class="text-sm text-subtle-light dark:text-subtle-dark">
                    Written By
                  </p>
                  <h3 id="authorBioName" class="font-bold text-lg"></h3>
                  <p
                    id="authorBioDescription"
                    class="text-sm text-subtle-light dark:text-subtle-dark mt-1"
                  ></p>
                </div>
              </div>

              <a
                href="neo.html"
                class="inline-flex items-center gap-2 text-primary font-semibold hover:underline my-8"
              >
                ← Back to Neo Stories
              </a>

              <div
                class="bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-border-light dark:border-border-dark"
              >
                <h2 class="text-2xl font-bold mb-6">Join the Discussion</h2>
                <div id="comments-container"></div>
              </div>
            </div>
          </div>
        </article>
      </main>

      <footer ...>...</footer>
    </div>

    <script>
      // ... (your existing script setup)

      function renderStory(story) {
        // ... (rest of your renderStory function)

        // Populate new author elements
        // Assuming your story object has `author_image_url` and `author_bio`
        document.getElementById("authorImage").src =
          story.author_image_url || "default-avatar.png";
        document.getElementById("authorBioImage").src =
          story.author_image_url || "default-avatar.png";
        document.getElementById("authorBioName").textContent =
          story.author_name;
        document.getElementById("authorBioDescription").textContent =
          story.author_bio || "Author at NeoSharX";

        // ... (rest of your renderStory function)
      }

      // ... (rest of your script)
    </script>
  </body>
</html>
